CREATE TABLE DICTIONAR_VALUTAR
(
    ID NUMBER PRIMARY KEY,
    CODE                  NVARCHAR2(3) NOT NULL UNIQUE,
    NAME                  NVARCHAR2(200)
);

CREATE TABLE CURS_VALUTAR
(
    ID        NUMBER PRIMARY KEY,
    VALUTA_ID NUMBER        NOT NULL,
    RATA      NUMBER(*)     NOT NULL,
    CURS      NUMBER(16, 4) NOT NULL,
    DATA_CURS DATE          NOT NULL,

    CONSTRAINT COD_VALUTA_FK FOREIGN KEY (VALUTA_ID)
        REFERENCES DICTIONAR_VALUTAR (ID),
    CONSTRAINT VALUTA_DATA_UK UNIQUE (VALUTA_ID, DATA_CURS)
);

CREATE TABLE ANGAJAT
(
    ID NUMBER PRIMARY KEY,
    CODE_UTILIZATOR NVARCHAR2(200) NOT NULL UNIQUE
);

CREATE TABLE NUMERAR
(
    ID NUMBER PRIMARY KEY,
    VALUE NUMBER(*,4) NOT NULL
);

CREATE TABLE SCHIMB_VALUTAR
(
    ID NUMBER PRIMARY KEY,
    CURS_VALUTAR_ID NUMBER NOT NULL,
    NUMERAR_ID NUMBER NOT NULL,
    ANGAJAT_ID NUMBER NOT NULL,

    CONSTRAINT CURS_VALUTAR_FK FOREIGN KEY (CURS_VALUTAR_ID)
        REFERENCES CURS_VALUTAR (ID),
    CONSTRAINT NUMERAR_FK FOREIGN KEY (NUMERAR_ID)
        REFERENCES NUMERAR (ID),
    CONSTRAINT ANGAJAT_FK FOREIGN KEY (ANGAJAT_ID)
        REFERENCES ANGAJAT (ID)
);

CREATE SEQUENCE DICTIONAR_VALUTAR_ID_SEQ MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE ORDER NOCYCLE;
CREATE SEQUENCE CURS_VALUTAR_ID_SEQ MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE ORDER NOCYCLE;
CREATE SEQUENCE ANGAJAT_ID_SEQ MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE ORDER NOCYCLE;
CREATE SEQUENCE NUMERAR_ID_SEQ MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE ORDER NOCYCLE;
CREATE SEQUENCE SCHIMB_VALUTAR_ID_SEQ MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE ORDER NOCYCLE;

